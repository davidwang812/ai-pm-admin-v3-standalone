# Admin V3 浏览器测试指南

## 手动测试步骤

### 步骤1: 访问登录页面
1. 打开浏览器
2. 访问: https://ai-pm-admin-v3-prod.vercel.app/login.html
3. **预期**: 看到登录表单，包含用户名和密码输入框

### 步骤2: 测试登录
1. 输入用户名: `admin`
2. 输入密码: `Admin@123456`
3. 点击"登录"按钮
4. **预期**: 应该跳转到 index.html 页面

### 步骤3: 检查登录后状态
1. 观察页面是否跳转到 index.html
2. 检查是否显示管理界面（侧边栏、内容区域等）
3. 查看是否还显示"前往登录"按钮
4. **预期**: 显示完整管理界面，不显示登录按钮

### 步骤4: 检查控制台日志
1. 按F12打开开发者工具
2. 切换到Console选项卡
3. 执行登录流程
4. 观察控制台输出的认证相关日志
5. **预期**: 看到详细的认证检查日志，无错误信息

## 当前测试结果 (2025-08-08)

### ✅ 正常功能
- 登录页面可以正常访问
- 表单元素完整显示
- 页面UI渲染正常

### ❌ 发现的问题
- **登录失败**: 点击登录后显示"Invalid admin credentials"
- **认证API故障**: 后端返回401或500错误
- **无法进入管理界面**: 登录失败导致无法访问主功能

### 🔍 控制台错误信息
预期会看到以下错误：
```
POST https://ai-pm-admin-v3-prod.vercel.app/api/auth/admin/login 401 (Unauthorized)
```

## 问题根因

根据API测试结果，问题出现在：
1. **Railway后端认证故障**: 使用正确密码时出现内部服务器错误
2. **密码配置不一致**: 前端期望密码与后端实际密码不匹配

## 修复建议

### 优先修复Railway后端
1. 检查数据库中管理员用户配置
2. 验证认证控制器逻辑
3. 确保环境变量正确设置

### 统一密码配置
选择其中一种方案：
- 方案A: 修改Railway密码为 `Admin@123456`
- 方案B: 修改前端默认密码为环境变量中的实际密码

## 验证修复效果

修复后重新执行上述测试步骤，确认：
1. 登录成功并跳转到index.html
2. 显示完整的管理界面
3. 不再显示"前往登录"按钮
4. 控制台无认证错误

## 技术细节

### API请求流程
```
前端 -> Vercel Edge Function -> Railway Backend -> 数据库
```

### 错误传播链
```
数据库错误 -> Railway Backend 500 -> Vercel Proxy 401 -> 前端显示错误
```

当前错误发生在Railway Backend层，导致整个认证链路失败。